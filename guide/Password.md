# 密码与锁屏

::: danger
危险功能，谨慎使用
:::

::: warning 给WearOS用户的提示
WearOS不支持带字母的密码，也不支持超过4位的PIN码！如果你设置了这样的密码（或密码复杂度要求），你将无法解锁你的手表！
:::

## 密码信息

当前密码复杂度：参考[密码复杂度要求](#密码复杂度要求)（需要API29或以上）

密码达到要求：当前密码复杂度是否达到了要求的密码复杂度

密码已错误次数：你能看到这个数字的时候，这个数字一定是0

个人与工作应用密码一致：需要是工作资料的Profile owner，需要API28或以上

## 密码重置令牌

需要Device owner或Profile owner

需API26或以上

操作：

- 清除令牌
- 设置令牌（如果无锁屏密码，会自动激活令牌）
- 激活令牌（如果有锁屏密码，会跳转到设置中，要求输入锁屏密码）

暂不支持自己输入令牌，令牌是*114514191981011451419198101145141919810*

## 重置密码

设置一个新的密码，密码的长度需要4位或以上，不输入密码将会清除现有的密码

长度在6位或以下的纯数字密码将会设置为PIN码

选项：

- 开机时不要求输入密码（一旦设置，只能通过恢复出厂设置来取消。应该是给FDE全盘加密设备用的）
- 不允许其他设备管理员重置密码直至用户输入一次密码

方式：

- 使用令牌重置密码（需API26或以上）
- 重置密码（弃用）（API24之前，Device admin可随时使用。API24或以上，Device admin只能在没有密码时设置密码，Device owner和Profile owner仍可以在用户解锁设备后更改密码。API26或以上完全弃用）

## 最大屏幕超时时间

需要Device owner

如果设备无用户交互的时间达到屏幕超时时间就会锁定屏幕，默认是0（由用户决定），在这里设置屏幕超时时间后，用户只能设置比这个短的屏幕超时时间

## 密码失效超时时间

需要Device owner

一个密码使用的时间超过这个时间后会要求用户重新设置密码

0表示无限制

## 最大密码错误次数

需要Device owner

输入密码错误次数达到限制后会恢复出厂设置（前提是OwnDroid有权限恢复出厂设置）

0表示使用系统默认的设置

## 密码历史记录长度

需要Device owner

官方文档看不太懂， 不知道这个功能有啥用

## 要求强验证超时

如果用户在这段时间内没有使用强认证（密码、PIN码或图案）解锁设备，则要求使用强认证解锁设备

一般来说，最少1小时，最多72小时

值为0表示OwnDroid不参与控制超时

## 密码复杂度要求

需要API31或以上

需要Device owner或Profile owner

有4个密码复杂度等级：

1. 无（允许不设密码）
2. 低（允许图案和连续性）
3. 中（无连续性，至少4位）
4. 高（无连续性，至少6位）

连续性：密码重复（6666）或密码递增递减（4321、2468）

要求设置新密码：跳转到设置中要求设置新密码，用户也可以选择不设置

## 锁屏功能

需要Device owner（Profile owner或许也可以）

模式：

- 允许全部
- 禁用全部
- 自定义

自定义的项目：

- 禁用小工具（API21或以上弃用，OwnDroid的最小兼容API版本21，所以这个功能没用）
- 禁用相机
- 禁用通知（不知道是否包含音乐播放器）
- 禁用未经编辑的通知（作用未知）
- 禁用可信代理
- 禁用指纹解锁
- 禁止远程输入（弃用）（需要API24，作用未知）
- 禁用人脸解锁（需API28或以上）
- 禁用虹膜解锁（需API28或以上）（真的有人用得到吗？）
- 禁用生物识别（包括指纹面部虹膜，需API28或以上）
- 禁用快捷方式（需API34或以上）

## 密码质量要求

需要Device owner或Profile owner

API31及以上弃用，请使用[密码复杂度要求](#密码复杂度要求)

质量要求：

- 无要求（默认）
- 需要密码或图案，不管复杂度
- 至少一个字母
- 至少一个数字
- 数字字母各至少一个
- 生物识别（弱）
- 复杂数字（无连续性）
- 自定义（现在不支持，以后也不会支持，因为这已经弃用了）

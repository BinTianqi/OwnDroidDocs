# 密码与锁屏

::: danger
危险功能，谨慎使用
:::

::: warning 给WearOS用户的提示
WearOS不支持带字母的密码，也不支持超过4位的PIN码！如果你设置了这样的密码（或密码复杂度要求），你将无法解锁你的手表！
:::

## 密码信息

- **[API29]** 当前密码复杂度：参考[密码复杂度要求](#密码复杂度要求)

- 密码达到要求：当前密码复杂度是否达到了要求的密码复杂度

- 密码已错误次数：你能看到这个数字的时候，这个数字一定是0

- **[API28]** 个人与工作应用密码一致 **[工作资料]**

## 密码重置令牌

**[Device owner] [Profile owner]**

**[API26]**

操作：

- 清除令牌
- 设置令牌（如果无锁屏密码，会自动激活令牌）
- 激活令牌（如果有锁屏密码，会跳转到设置中，要求输入锁屏密码）

令牌在更改或清除锁屏密码后仍然有效

::: warning

~~此令牌高度敏感，应与用户凭据同等对待。特别是，切勿以明文形式将此令牌存储在设备上。~~

暂不支持自己输入令牌，令牌是*114514191981011451419198101145141919810*

:::

## 重置密码

设置一个新的密码，密码的长度需要4位或以上，不输入密码将会清除现有的密码

长度在6位或以下的纯数字密码将会设置为PIN码

选项：

- 开机时不要求输入凭证 **[Device owner]**
- 不允许其他设备管理员重置密码直至用户输入一次密码

方式：

- **[API26]** 使用令牌重置密码 **[Device owner] [Profile owner]**
- 重置密码（弃用）（API24之前，Device admin可随时使用。API24或以上，Device admin只能在没有密码时设置密码，Device owner和Profile owner仍可以在用户解锁设备后更改密码。API26或以上完全弃用）

## 屏幕超时

**[Device admin]**

用户只能在设置中设置比这个短的屏幕超时时间

0表示不设限制

## 密码过期超时时间

**[Device admin]**

重置 密码过期倒计时

0表示不设限制

## 最大密码错误次数

**[Device admin]**

设置为大于零的值，将会在输入一定次数的错误的锁屏密码后清除数据

当此策略在主用户上设置时，将在输入错误密码次数过多后恢复出厂设置。当在其他用户上设置时，只有相应用户的数据会被清除。

## 密码历史长度

**[Device admin]**

设置密码历史的长度
设置后，用户将无法输入与历史记录中任何密码相同的新密码。当前密码将保留，直到用户设置新密码为止，因此更改不会立即生效。

0表示不设限制

## 要求强验证超时

**[Device owner] [Profile owner]**

**[API26]**

如果用户在这段时间内没有使用强认证（密码、PIN码或图案）解锁设备，则要求使用强认证解锁设备

一般来说，最少1小时，最多72小时。值为0表示OwnDroid不参与控制超时

## 密码复杂度要求

**[Device owner] [Profile owner]**

**[API31]**

设置锁屏密码的最低复杂度要求。用户无法设置复杂度低于此要求的密码

有4个密码复杂度等级：

1. 无（允许不设密码）
2. 低（允许图案和有序或重复的数字密码）
3. 中（不允许重复或有序的数字密码，密码长度至少4位）
4. 高（不允许重复或有序的数字密码，密码长度至少6位，PIN长度至少8位）

要求设置新密码：跳转到设置中要求设置新密码

## 锁屏功能

**[Device admin]**

禁用锁屏界面的一些功能

模式：

- 允许全部
- 禁用全部
- 自定义

自定义的项目：

- 禁用小工具（API21或以上弃用，OwnDroid的最小兼容API版本21，所以这个功能没用）
- 禁用相机
- 禁用通知
- 禁用未经编辑的通知（作用未知）
- 禁用可信代理
- 禁用指纹解锁
- **[API24]** 禁止远程输入（弃用）
- **[API28]** 禁用人脸解锁
- **[API28]** 禁用虹膜解锁（这个有用吗？）
- **[API28]** 禁用生物识别（包括指纹面部虹膜）
- **[API34]** 禁用快捷方式

## 密码质量要求

**[Device owner] [Profile owner]**

**API31及以上弃用**，请使用[密码复杂度要求](#密码复杂度要求)

质量要求：

- 无要求（默认）
- 需要密码或图案，不管复杂度
- 至少一个字母
- 至少一个数字
- 数字字母各至少一个
- 生物识别（弱）
- 复杂数字（无连续性）
- 自定义（现在不支持，以后也不会支持，因为这已经弃用了）

